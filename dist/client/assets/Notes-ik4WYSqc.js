import{r as i,j as e}from"./client-CCeUhWoO.js";const c="notes.v1";function p(){const[r,o]=i.useState(()=>{try{return JSON.parse(localStorage.getItem(c)||"[]")}catch{return[]}}),[l,d]=i.useState(null);i.useEffect(()=>{localStorage.setItem(c,JSON.stringify(r)),!l&&r.length&&d(r[0].id)},[r,l]);const a=i.useMemo(()=>r.find(t=>t.id===l)??null,[r,l]);function u(){const t={id:crypto.randomUUID(),title:"Nytt notat",body:"",updatedAt:Date.now()};o(n=>[t,...n]),d(t.id)}function x(t){a&&o(n=>n.map(s=>s.id===a.id?{...s,...t,updatedAt:Date.now()}:s))}function h(){a&&localStorage.setItem(c,JSON.stringify(r))}function g(t){const n=r.filter(s=>s.id!==t);o(n),l===t&&d(n[0]?.id??null)}return e.jsx("main",{className:"w-full p-6",children:e.jsxs("section",{"aria-label":"Notater",className:"grid grid-cols-[360px_minmax(0,1fr)] gap-14 items-start",children:[e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white",children:"Mine notater"}),r.length?e.jsx("ul",{className:"grid gap-4",children:r.map(t=>e.jsx("li",{children:e.jsx("button",{onClick:()=>d(t.id),className:`note-pill ${t.id===l?"note-pill-active":""} rounded-xl px-3 py-2 w-full text-left transition border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-gray-800 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700`,title:new Date(t.updatedAt).toLocaleString(),children:e.jsx("strong",{children:t.title||"Uten tittel"})})},t.id))}):e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-4",children:"Ingen notater ennå."}),e.jsxs("footer",{className:"mt-5 flex gap-3",children:[e.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md transition",onClick:u,children:"＋ Nytt notat"}),a&&e.jsx("button",{className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md transition",onClick:()=>g(a.id),children:"Slett"})]})]}),e.jsx("article",{className:"editor-wrap bg-white dark:bg-gray-900 rounded-xl border border-gray-200 dark:border-gray-700 p-4",children:e.jsxs("section",{className:"panel",children:[e.jsxs("header",{className:"mb-3",children:[e.jsx("input",{className:"w-full text-base font-semibold bg-transparent outline-none text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-gray-500",value:a?.title??"Nytt notat",onChange:t=>x({title:t.target.value}),placeholder:"Tittel"}),e.jsx("hr",{className:"title-rule border-gray-200 dark:border-gray-700"})]}),e.jsx("section",{className:"panel-inner",children:e.jsx("textarea",{className:"editor-textarea h-[420px] w-full bg-transparent text-gray-900 dark:text-gray-200 placeholder:text-gray-400 dark:placeholder:text-gray-500",placeholder:"Skriv notat her...",value:a?.body||"",onChange:t=>x({body:t.target.value})})}),a&&e.jsxs("footer",{className:"mt-4 flex justify-between items-center",children:[e.jsxs("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:["Sist endret:"," ",new Date(a.updatedAt).toLocaleString()]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md transition",onClick:h,children:"Lagre"}),e.jsx("button",{className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md transition",onClick:()=>g(a.id),children:"Slett"})]})]})]})})]})})}export{p as default};
//# sourceMappingURL=Notes-ik4WYSqc.js.map
