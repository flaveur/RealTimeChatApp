{"version":3,"file":"Notes-ik4WYSqc.js","sources":["../../../src/components/Notes.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useMemo, useState } from \"react\";\r\n\r\ntype Note = { id: string; title: string; body: string; updatedAt: number };\r\nconst STORAGE_KEY = \"notes.v1\";\r\n\r\nexport default function Notes() {\r\n  const [notes, setNotes] = useState<Note[]>(() => {\r\n    try {\r\n      return JSON.parse(localStorage.getItem(STORAGE_KEY) || \"[]\");\r\n    } catch {\r\n      return [];\r\n    }\r\n  });\r\n\r\n  const [selectedId, setSelectedId] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(notes));\r\n    if (!selectedId && notes.length) setSelectedId(notes[0].id);\r\n  }, [notes, selectedId]);\r\n\r\n  const selected = useMemo(\r\n    () => notes.find((n) => n.id === selectedId) ?? null,\r\n    [notes, selectedId]\r\n  );\r\n\r\n  function createNote() {\r\n    const n: Note = {\r\n      id: crypto.randomUUID(),\r\n      title: \"Nytt notat\",\r\n      body: \"\",\r\n      updatedAt: Date.now(),\r\n    };\r\n    setNotes((ns) => [n, ...ns]);\r\n    setSelectedId(n.id);\r\n  }\r\n\r\n  function updateSelected(patch: Partial<Note>) {\r\n    if (!selected) return;\r\n    setNotes((ns) =>\r\n      ns.map((n) =>\r\n        n.id === selected.id ? { ...n, ...patch, updatedAt: Date.now() } : n\r\n      )\r\n    );\r\n  }\r\n\r\n  function saveSelected() {\r\n    if (!selected) return;\r\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(notes));\r\n  }\r\n\r\n  function deleteNote(id: string) {\r\n    const next = notes.filter((n) => n.id !== id);\r\n    setNotes(next);\r\n    if (selectedId === id) setSelectedId(next[0]?.id ?? null);\r\n  }\r\n\r\n  return (\r\n    <main className=\"w-full p-6\">\r\n      <section\r\n        aria-label=\"Notater\"\r\n        className=\"grid grid-cols-[360px_minmax(0,1fr)] gap-14 items-start\"\r\n      >\r\n        <section>\r\n          <h2 className=\"text-xl font-semibold mb-4 text-gray-900 dark:text-white\">Mine notater</h2>\r\n\r\n          {notes.length ? (\r\n            <ul className=\"grid gap-4\">\r\n              {notes.map((n) => (\r\n                <li key={n.id}>\r\n                  <button\r\n                    onClick={() => setSelectedId(n.id)}\r\n                    className={`note-pill ${\r\n                      n.id === selectedId ? \"note-pill-active\" : \"\"\r\n                    } rounded-xl px-3 py-2 w-full text-left transition border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-gray-800 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700`}\r\n                    title={new Date(n.updatedAt).toLocaleString()}\r\n                  >\r\n                    <strong>{n.title || \"Uten tittel\"}</strong>\r\n                  </button>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          ) : (\r\n            <p className=\"text-gray-500 dark:text-gray-400 text-sm mb-4\">\r\n              Ingen notater ennå.\r\n            </p>\r\n          )}\r\n\r\n          <footer className=\"mt-5 flex gap-3\">\r\n            <button\r\n              className=\"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md transition\"\r\n              onClick={createNote}\r\n            >\r\n              ＋ Nytt notat\r\n            </button>\r\n\r\n            {selected && (\r\n              <button\r\n                className=\"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md transition\"\r\n                onClick={() => deleteNote(selected.id)}\r\n              >\r\n                Slett\r\n              </button>\r\n            )}\r\n          </footer>\r\n        </section>\r\n\r\n        <article className=\"editor-wrap bg-white dark:bg-gray-900 rounded-xl border border-gray-200 dark:border-gray-700 p-4\">\r\n          <section className=\"panel\">\r\n            <header className=\"mb-3\">\r\n              <input\r\n                className=\"w-full text-base font-semibold bg-transparent outline-none text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-gray-500\"\r\n                value={selected?.title ?? \"Nytt notat\"}\r\n                onChange={(e) => updateSelected({ title: e.target.value })}\r\n                placeholder=\"Tittel\"\r\n              />\r\n              <hr className=\"title-rule border-gray-200 dark:border-gray-700\" />\r\n            </header>\r\n\r\n            <section className=\"panel-inner\">\r\n              <textarea\r\n                className=\"editor-textarea h-[420px] w-full bg-transparent text-gray-900 dark:text-gray-200 placeholder:text-gray-400 dark:placeholder:text-gray-500\"\r\n                placeholder=\"Skriv notat her...\"\r\n                value={selected?.body || \"\"}\r\n                onChange={(e) => updateSelected({ body: e.target.value })}\r\n              />\r\n            </section>\r\n\r\n            {selected && (\r\n              <footer className=\"mt-4 flex justify-between items-center\">\r\n                <span className=\"text-xs text-neutral-500 dark:text-neutral-400\">\r\n                  Sist endret:{\" \"}\r\n                  {new Date(selected.updatedAt).toLocaleString()}\r\n                </span>\r\n\r\n                <div className=\"flex gap-3\">\r\n                  <button\r\n                    className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md transition\"\r\n                    onClick={saveSelected}\r\n                  >\r\n                    Lagre\r\n                  </button>\r\n\r\n                  <button\r\n                    className=\"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md transition\"\r\n                    onClick={() => deleteNote(selected.id)}\r\n                  >\r\n                    Slett\r\n                  </button>\r\n                </div>\r\n              </footer>\r\n            )}\r\n          </section>\r\n        </article>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n"],"names":["STORAGE_KEY","Notes","notes","setNotes","useState","JSON","parse","localStorage","getItem","selectedId","setSelectedId","useEffect","setItem","stringify","length","id","selected","useMemo","find","n","createNote","crypto","randomUUID","title","body","updatedAt","Date","now","ns","updateSelected","patch","map","saveSelected","deleteNote","next","filter","jsx","jsxs","toLocaleString","e","target","value"],"mappings":"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"}